!function(a){function b(b,e,f,g,h){function i(){o.unbind(),e&&c(e,f,g,h),h.startOrder=[],h.newOrder=[],h.origSort=[],h.checkSort=[],n.removeStyle(h.prefix+"filter, filter, "+h.prefix+"transform, transform, opacity, display").css(h.clean).removeAttr("data-checksum"),window.atob||n.css({display:"none",opacity:"0"}),o.removeStyle(h.prefix+"transition, transition, "+h.prefix+"perspective, perspective, "+h.prefix+"perspective-origin, perspective-origin, "+(h.resizeContainer?"height":"")),"list"==h.layoutMode?(p.css({display:h.targetDisplayList,opacity:"1"}),h.origDisplay=h.targetDisplayList):(p.css({display:h.targetDisplayGrid,opacity:"1"}),h.origDisplay=h.targetDisplayGrid),h.origLayout=h.layoutMode,setTimeout(function(){if(n.removeStyle(h.prefix+"transition, transition"),h.mixing=!1,"function"==typeof h.onMixEnd){var a=h.onMixEnd.call(this,h);h=a?a:h}})}if(clearInterval(h.failsafe),h.mixing=!0,h.filter=b,"function"==typeof h.onMixStart){var j=h.onMixStart.call(this,h);h=j?j:h}for(var k=h.transitionSpeed,j=0;2>j;j++){var l=0==j?l=h.prefix:"";h.transition[l+"transition"]="all "+k+"ms linear",h.transition[l+"transform"]=l+"translate3d(0,0,0)",h.perspective[l+"perspective"]=h.perspectiveDistance+"px",h.perspective[l+"perspective-origin"]=h.perspectiveOrigin}var m=h.targetSelector,n=g.find(m);n.each(function(){this.data={}});var o=n.parent();o.css(h.perspective),h.easingFallback="ease-in-out","smooth"==h.easing&&(h.easing="cubic-bezier(0.25, 0.46, 0.45, 0.94)"),"snap"==h.easing&&(h.easing="cubic-bezier(0.77, 0, 0.175, 1)"),"windback"==h.easing&&(h.easing="cubic-bezier(0.175, 0.885, 0.320, 1.275)",h.easingFallback="cubic-bezier(0.175, 0.885, 0.320, 1)"),"windup"==h.easing&&(h.easing="cubic-bezier(0.6, -0.28, 0.735, 0.045)",h.easingFallback="cubic-bezier(0.6, 0.28, 0.735, 0.045)"),j="list"==h.layoutMode&&null!=h.listEffects?h.listEffects:h.effects,Array.prototype.indexOf&&(h.fade=-1<j.indexOf("fade")?"0":"",h.scale=-1<j.indexOf("scale")?"scale(.01)":"",h.rotateZ=-1<j.indexOf("rotateZ")?"rotate(180deg)":"",h.rotateY=-1<j.indexOf("rotateY")?"rotateY(90deg)":"",h.rotateX=-1<j.indexOf("rotateX")?"rotateX(90deg)":"",h.blur=-1<j.indexOf("blur")?"blur(8px)":"",h.grayscale=-1<j.indexOf("grayscale")?"grayscale(100%)":"");var p=a(),q=a(),r=[],s=!1;"string"==typeof b?r=d(b):(s=!0,a.each(b,function(a){r[a]=d(this)})),"or"==h.filterLogic?(""==r[0]&&r.shift(),1>r.length?q=q.add(g.find(m+":visible")):n.each(function(){var b=a(this);if(s){var c=0;a.each(r,function(){this.length?b.is("."+this.join(", ."))&&c++:c>0&&c++}),c==r.length?p=p.add(b):q=q.add(b)}else b.is("."+r.join(", ."))?p=p.add(b):q=q.add(b)})):(p=p.add(o.find(m+"."+r.join("."))),q=q.add(o.find(m+":not(."+r.join(".")+"):visible"))),b=p.length;var t=a(),u=a(),v=a();if(q.each(function(){var b=a(this);"none"!=b.css("display")&&(t=t.add(b),v=v.add(b))}),p.filter(":visible").length==b&&!t.length&&!e){if(h.origLayout==h.layoutMode)return i(),!1;if(1==p.length)return"list"==h.layoutMode?(g.addClass(h.listClass),g.removeClass(h.gridClass),v.css("display",h.targetDisplayList)):(g.addClass(h.gridClass),g.removeClass(h.listClass),v.css("display",h.targetDisplayGrid)),i(),!1}if(h.origHeight=o.height(),p.length){if(g.removeClass(h.failClass),p.each(function(){var b=a(this);"none"==b.css("display")?u=u.add(b):v=v.add(b)}),h.origLayout!=h.layoutMode&&0==h.animateGridList)return"list"==h.layoutMode?(g.addClass(h.listClass),g.removeClass(h.gridClass),v.css("display",h.targetDisplayList)):(g.addClass(h.gridClass),g.removeClass(h.listClass),v.css("display",h.targetDisplayGrid)),i(),!1;if(!window.atob)return i(),!1;if(n.css(h.clean),v.each(function(){this.data.origPos=a(this).offset()}),"list"==h.layoutMode?(g.addClass(h.listClass),g.removeClass(h.gridClass),u.css("display",h.targetDisplayList)):(g.addClass(h.gridClass),g.removeClass(h.listClass),u.css("display",h.targetDisplayGrid)),u.each(function(){this.data.showInterPos=a(this).offset()}),t.each(function(){this.data.hideInterPos=a(this).offset()}),v.each(function(){this.data.preInterPos=a(this).offset()}),"list"==h.layoutMode?v.css("display",h.targetDisplayList):v.css("display",h.targetDisplayGrid),e&&c(e,f,g,h),e&&h.origSort.compare(h.checkSort))return i(),!1;for(t.hide(),u.each(function(){this.data.finalPos=a(this).offset()}),v.each(function(){this.data.finalPrePos=a(this).offset()}),h.newHeight=o.height(),e&&c("reset",null,g,h),u.hide(),v.css("display",h.origDisplay),"block"==h.origDisplay?(g.addClass(h.listClass),u.css("display",h.targetDisplayList)):(g.removeClass(h.listClass),u.css("display",h.targetDisplayGrid)),h.resizeContainer&&o.css("height",h.origHeight+"px"),b={},j=0;2>j;j++)l=0==j?l=h.prefix:"",b[l+"transform"]=h.scale+" "+h.rotateX+" "+h.rotateY+" "+h.rotateZ,b[l+"filter"]=h.blur+" "+h.grayscale;u.css(b),v.each(function(){var b=this.data,c=a(this);c.hasClass("mix_tohide")?(b.preTX=b.origPos.left-b.hideInterPos.left,b.preTY=b.origPos.top-b.hideInterPos.top):(b.preTX=b.origPos.left-b.preInterPos.left,b.preTY=b.origPos.top-b.preInterPos.top);for(var d={},e=0;2>e;e++){var f=0==e?f=h.prefix:"";d[f+"transform"]="translate("+b.preTX+"px,"+b.preTY+"px)"}c.css(d)}),"list"==h.layoutMode?(g.addClass(h.listClass),g.removeClass(h.gridClass)):(g.addClass(h.gridClass),g.removeClass(h.listClass)),setTimeout(function(){if(h.resizeContainer){for(var b={},c=0;2>c;c++){var d=0==c?d=h.prefix:"";b[d+"transition"]="all "+k+"ms ease-in-out",b.height=h.newHeight+"px"}o.css(b)}for(t.css("opacity",h.fade),u.css("opacity",1),u.each(function(){var b=this.data;b.tX=b.finalPos.left-b.showInterPos.left,b.tY=b.finalPos.top-b.showInterPos.top;for(var c={},d=0;2>d;d++){var e=0==d?e=h.prefix:"";c[e+"transition-property"]=e+"transform, "+e+"filter, opacity",c[e+"transition-timing-function"]=h.easing+", linear, linear",c[e+"transition-duration"]=k+"ms",c[e+"transition-delay"]="0",c[e+"transform"]="translate("+b.tX+"px,"+b.tY+"px)",c[e+"filter"]="none"}a(this).css("-webkit-transition","all "+k+"ms "+h.easingFallback).css(c)}),v.each(function(){var b=this.data;b.tX=0!=b.finalPrePos.left?b.finalPrePos.left-b.preInterPos.left:0,b.tY=0!=b.finalPrePos.left?b.finalPrePos.top-b.preInterPos.top:0;for(var c={},d=0;2>d;d++){var e=0==d?e=h.prefix:"";c[e+"transition"]="all "+k+"ms "+h.easing,c[e+"transform"]="translate("+b.tX+"px,"+b.tY+"px)"}a(this).css("-webkit-transition","all "+k+"ms "+h.easingFallback).css(c)}),b={},c=0;2>c;c++)d=0==c?d=h.prefix:"",b[d+"transition"]="all "+k+"ms "+h.easing+", "+d+"filter "+k+"ms linear, opacity "+k+"ms linear",b[d+"transform"]=h.scale+" "+h.rotateX+" "+h.rotateY+" "+h.rotateZ,b[d+"filter"]=h.blur+" "+h.grayscale,b.opacity=h.fade;t.css(b),o.bind("webkitTransitionEnd transitionend otransitionend oTransitionEnd",function(b){(-1<b.originalEvent.propertyName.indexOf("transform")||-1<b.originalEvent.propertyName.indexOf("opacity"))&&(-1<m.indexOf(".")?a(b.target).hasClass(m.replace(".",""))&&i():a(b.target).is(m)&&i())})},10),h.failsafe=setTimeout(function(){h.mixing&&i()},k+400)}else{if(h.resizeContainer&&o.css("height",h.origHeight+"px"),!window.atob)return i(),!1;t=q,setTimeout(function(){if(o.css(h.perspective),h.resizeContainer){for(var a={},b=0;2>b;b++){var c=0==b?c=h.prefix:"";a[c+"transition"]="height "+k+"ms ease-in-out",a.height=h.minHeight+"px"}o.css(a)}if(n.css(h.transition),q.length){for(a={},b=0;2>b;b++)c=0==b?c=h.prefix:"",a[c+"transform"]=h.scale+" "+h.rotateX+" "+h.rotateY+" "+h.rotateZ,a[c+"filter"]=h.blur+" "+h.grayscale,a.opacity=h.fade;t.css(a),o.bind("webkitTransitionEnd transitionend otransitionend oTransitionEnd",function(a){(-1<a.originalEvent.propertyName.indexOf("transform")||-1<a.originalEvent.propertyName.indexOf("opacity"))&&(g.addClass(h.failClass),i())})}else h.mixing=!1},10)}}function c(b,c,d,e){function f(a,c){var d=isNaN(1*a.attr(b))?a.attr(b).toLowerCase():1*a.attr(b),e=isNaN(1*c.attr(b))?c.attr(b).toLowerCase():1*c.attr(b);return e>d?-1:d>e?1:0}function g(a){"asc"==c?h.prepend(a).prepend(" "):h.append(a).append(" ")}d.find(e.targetSelector).wrapAll('<div class="mix_sorter"/>');var h=d.find(".mix_sorter");if(e.origSort.length||h.find(e.targetSelector+":visible").each(function(){a(this).wrap("<s/>"),e.origSort.push(a(this).parent().html().replace(/\s+/g,"")),a(this).unwrap()}),h.empty(),"reset"==b)a.each(e.startOrder,function(){h.append(this).append(" ")});else if("default"==b)a.each(e.origOrder,function(){g(this)});else if("random"==b){if(!e.newOrder.length){for(var i=e.startOrder.slice(),j=i.length,k=j;k--;){var l=parseInt(Math.random()*j),m=i[k];i[k]=i[l],i[l]=m}e.newOrder=i}a.each(e.newOrder,function(){h.append(this).append(" ")})}else if("custom"==b)a.each(c,function(){g(this)});else{if("undefined"==typeof e.origOrder[0].attr(b))return console.log("No such attribute found. Terminating"),!1;e.newOrder.length||(a.each(e.origOrder,function(){e.newOrder.push(a(this))}),e.newOrder.sort(f)),a.each(e.newOrder,function(){g(this)})}e.checkSort=[],h.find(e.targetSelector+":visible").each(function(b){var c=a(this);0==b&&c.attr("data-checksum","1"),c.wrap("<s/>"),e.checkSort.push(c.parent().html().replace(/\s+/g,"")),c.unwrap()}),d.find(e.targetSelector).unwrap()}function d(b){b=b.replace(/\s{2,}/g," ");var c=b.split(" ");return a.each(c,function(a){"all"==this&&(c[a]="mix_all")}),""==c[0]&&c.shift(),c}var e={init:function(d){return this.each(function(){var e={targetSelector:".mix",filterSelector:".filter",sortSelector:".sort",buttonEvent:"click",effects:["fade","scale"],listEffects:null,easing:"smooth",layoutMode:"grid",targetDisplayGrid:"inline-block",targetDisplayList:"block",listClass:"",gridClass:"",transitionSpeed:600,showOnLoad:"all",sortOnLoad:!1,multiFilter:!1,filterLogic:"or",resizeContainer:!0,minHeight:0,failClass:"fail",perspectiveDistance:"3000",perspectiveOrigin:"50% 50%",animateGridList:!0,onMixLoad:null,onMixStart:null,onMixEnd:null,container:null,origOrder:[],startOrder:[],newOrder:[],origSort:[],checkSort:[],filter:"",mixing:!1,origDisplay:"",origLayout:"",origHeight:0,newHeight:0,isTouch:!1,resetDelay:0,failsafe:null,prefix:"",easingFallback:"ease-in-out",transition:{},perspective:{},clean:{},fade:"1",scale:"",rotateX:"",rotateY:"",rotateZ:"",blur:"",grayscale:""};d&&a.extend(e,d),this.config=e,a.support.touch="ontouchend"in document,a.support.touch&&(e.isTouch=!0,e.resetDelay=350),e.container=a(this);var f,g=e.container;a:{f=g[0];for(var h=["Webkit","Moz","O","ms"],i=0;i<h.length;i++)if(h[i]+"Transition"in f.style){f=h[i];break a}f="transition"in f.style?"":!1}if(e.prefix=f,e.prefix=e.prefix?"-"+e.prefix.toLowerCase()+"-":"",g.find(e.targetSelector).each(function(){e.origOrder.push(a(this))}),e.sortOnLoad){var j;a.isArray(e.sortOnLoad)?(f=e.sortOnLoad[0],j=e.sortOnLoad[1],a(e.sortSelector+"[data-sort="+e.sortOnLoad[0]+"][data-order="+e.sortOnLoad[1]+"]").addClass("active")):(a(e.sortSelector+"[data-sort="+e.sortOnLoad+"]").addClass("active"),f=e.sortOnLoad,e.sortOnLoad="desc"),c(f,j,g,e)}for(j=0;2>j;j++)f=0==j?f=e.prefix:"",e.transition[f+"transition"]="all "+e.transitionSpeed+"ms ease-in-out",e.perspective[f+"perspective"]=e.perspectiveDistance+"px",e.perspective[f+"perspective-origin"]=e.perspectiveOrigin;for(j=0;2>j;j++)f=0==j?f=e.prefix:"",e.clean[f+"transition"]="none";"list"==e.layoutMode?(g.addClass(e.listClass),e.origDisplay=e.targetDisplayList):(g.addClass(e.gridClass),e.origDisplay=e.targetDisplayGrid),e.origLayout=e.layoutMode,j=e.showOnLoad.split(" "),a.each(j,function(){a(e.filterSelector+'[data-filter="'+this+'"]').addClass("active")}),g.find(e.targetSelector).addClass("mix_all"),"all"==j[0]&&(j[0]="mix_all",e.showOnLoad="mix_all");var k=a();a.each(j,function(){k=k.add(a("."+this))}),k.each(function(){var b=a(this);"list"==e.layoutMode?b.css("display",e.targetDisplayList):b.css("display",e.targetDisplayGrid),b.css(e.transition)}),setTimeout(function(){e.mixing=!0,k.css("opacity","1"),setTimeout(function(){if("list"==e.layoutMode?k.removeStyle(e.prefix+"transition, transition").css({display:e.targetDisplayList,opacity:1}):k.removeStyle(e.prefix+"transition, transition").css({display:e.targetDisplayGrid,opacity:1}),e.mixing=!1,"function"==typeof e.onMixLoad){var a=e.onMixLoad.call(this,e);e=a?a:e}},e.transitionSpeed)},10),e.filter=e.showOnLoad,a(e.sortSelector).bind(e.buttonEvent,function(){if(!e.mixing){var c=a(this),d=c.attr("data-sort"),f=c.attr("data-order");if(c.hasClass("active")){if("random"!=d)return!1}else a(e.sortSelector).removeClass("active"),c.addClass("active");g.find(e.targetSelector).each(function(){e.startOrder.push(a(this))}),b(e.filter,d,f,g,e)}}),a(e.filterSelector).bind(e.buttonEvent,function(){if(!e.mixing){var c=a(this);if(0==e.multiFilter)a(e.filterSelector).removeClass("active"),c.addClass("active"),e.filter=c.attr("data-filter"),a(e.filterSelector+'[data-filter="'+e.filter+'"]').addClass("active");else{var d=c.attr("data-filter");c.hasClass("active")?(c.removeClass("active"),e.filter=e.filter.replace(RegExp("(\\s|^)"+d),"")):(c.addClass("active"),e.filter=e.filter+" "+d)}b(e.filter,null,null,g,e)}})})},toGrid:function(){return this.each(function(){var c=this.config;"grid"!=c.layoutMode&&(c.layoutMode="grid",b(c.filter,null,null,a(this),c))})},toList:function(){return this.each(function(){var c=this.config;"list"!=c.layoutMode&&(c.layoutMode="list",b(c.filter,null,null,a(this),c))})},filter:function(c){return this.each(function(){var d=this.config;d.mixing||(a(d.filterSelector).removeClass("active"),a(d.filterSelector+'[data-filter="'+c+'"]').addClass("active"),b(c,null,null,a(this),d))})},sort:function(c){return this.each(function(){var d=this.config,e=a(this);if(!d.mixing){if(a(d.sortSelector).removeClass("active"),a.isArray(c)){var f=c[0],g=c[1];a(d.sortSelector+'[data-sort="'+c[0]+'"][data-order="'+c[1]+'"]').addClass("active")}else a(d.sortSelector+'[data-sort="'+c+'"]').addClass("active"),f=c,g="desc";e.find(d.targetSelector).each(function(){d.startOrder.push(a(this))}),b(d.filter,f,g,e,d)}})},multimix:function(c){return this.each(function(){var d=this.config,e=a(this);multiOut={filter:d.filter,sort:null,order:"desc",layoutMode:d.layoutMode},a.extend(multiOut,c),d.mixing||(a(d.filterSelector).add(d.sortSelector).removeClass("active"),a(d.filterSelector+'[data-filter="'+multiOut.filter+'"]').addClass("active"),"undefined"!=typeof multiOut.sort&&(a(d.sortSelector+'[data-sort="'+multiOut.sort+'"][data-order="'+multiOut.order+'"]').addClass("active"),e.find(d.targetSelector).each(function(){d.startOrder.push(a(this))})),d.layoutMode=multiOut.layoutMode,b(multiOut.filter,multiOut.sort,multiOut.order,e,d))})},remix:function(c){return this.each(function(){var d=this.config,e=a(this);d.origOrder=[],e.find(d.targetSelector).each(function(){var b=a(this);b.addClass("mix_all"),d.origOrder.push(b)}),!d.mixing&&"undefined"!=typeof c&&(a(d.filterSelector).removeClass("active"),a(d.filterSelector+'[data-filter="'+c+'"]').addClass("active"),b(c,null,null,e,d))})}};a.fn.mixitup=function(a){return e[a]?e[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?void 0:e.init.apply(this,arguments)},a.fn.removeStyle=function(b){return this.each(function(){var c=a(this);b=b.replace(/\s+/g,"");var d=b.split(",");a.each(d,function(){var a=RegExp(this.toString()+"[^;]+;?","g");c.attr("style",function(b,c){return c?c.replace(a,""):void 0})})})},Array.prototype.compare=function(a){if(this.length!=a.length)return!1;for(var b=0;b<a.length;b++)if(this[b].compare&&!this[b].compare(a[b])||this[b]!==a[b])return!1;return!0}}(jQuery);